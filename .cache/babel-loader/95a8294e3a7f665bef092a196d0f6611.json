{"remainingRequest":"/Users/someone/dev/file_cdn_share_ui/node_modules/babel-loader/lib/index.js!/Users/someone/dev/file_cdn_share_ui/node_modules/eslint-loader/index.js??ref--13-0!/Users/someone/dev/file_cdn_share_ui/src/store/modules/cdn_app.js","dependencies":[{"path":"/Users/someone/dev/file_cdn_share_ui/src/store/modules/cdn_app.js","mtime":1574134869931},{"path":"/Users/someone/dev/file_cdn_share_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/someone/dev/file_cdn_share_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/someone/dev/file_cdn_share_ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgcmVhZCB9IGZyb20gJ2ZzJzsKdmFyIHN0YXRlID0gewogIGxvZ2dlZEluOiBmYWxzZSwKICBhY2Nlc3NUb2tlbjogbnVsbCwKICByZWZyZXNoVG9rZW46IG51bGwsCiAgdXBsb2FkRmlsZTogbnVsbAp9Owp2YXIgZ2V0dGVycyA9IHsKICBwZXJzaXN0ZWRMb2dnZWRJblN0YXRlOiBmdW5jdGlvbiBwZXJzaXN0ZWRMb2dnZWRJblN0YXRlKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUubG9nZ2VkSW47CiAgfSAvLyBwZXJzaXN0ZWRBY2Nlc3NUb2tlbjogKHN0YXRlKSA9PiBzdGF0ZS5hY2Nlc3NUb2tlbiwKICAvLyBwZXJzaXN0ZWRSZWZyZXNoVG9rZW46IChzdGF0ZSkgPT4gc3RhdGUucmVmcmVzaFRva2VuLAoKfTsKdmFyIGFjdGlvbnMgPSB7CiAgdXBsb2FkRmlsZTogZnVuY3Rpb24gdXBsb2FkRmlsZShfcmVmKSB7CiAgICB2YXIgY29tbWl0LCBzdGF0ZSwgZGlzcGF0Y2gsIHJlYWRlcjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gdXBsb2FkRmlsZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0LCBzdGF0ZSA9IF9yZWYuc3RhdGUsIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKICAgICAgICAgICAgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgY29uc29sZS5sb2coInRoaXMgaXMgaW5kZWVkIGEgZmlsZSwgcmlnaHQuLi4/ICIsIHN0YXRlLnVwbG9hZEZpbGUpOyAvLyB2YXIgZmlsZV9kYXRhID0gcmVhZGVyLnJlYWRBc0RhdGFVUkwoc3RhdGUudXBsb2FkRmlsZSkKCiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHZhciBmaWxlRGF0YSA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL2Nkbi91cGxvYWQvIiwgZmlsZURhdGEsIHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtRGlzcG9zaXRpb24iOiAiQ29udGVudC1EaXNwb3NpdGlvbjogYXR0YWNobWVudDsgZmlsZW5hbWU9dGVzdGZpczY1NGRmbGUuY3NzIiwKICAgICAgICAgICAgICAgICAgIkF1dGhlbnRpY2F0aW9uIjogIkJlYXJlciAiLmNvbmNhdChzdGF0ZS5hY2Nlc3NUb2tlbikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHJlYWRlci5yZWFkQXNEYXRhVVJMKHN0YXRlLnVwbG9hZEZpbGUpKTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJSUjogIiwgcmVhZGVyLnJlc3VsdCk7IC8vIGNvbW1pdCgiY2xlYXJVcGxvYWRGaWxlRnJvbVN0YXRlIikKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBzYXZlVXBsb2FkRmlsZVRvU3RhdGU6IGZ1bmN0aW9uIHNhdmVVcGxvYWRGaWxlVG9TdGF0ZShfcmVmMiwgZmlsZSkgewogICAgdmFyIGNvbW1pdDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gc2F2ZVVwbG9hZEZpbGVUb1N0YXRlJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICBjb25zb2xlLmxvZyhmaWxlKTsKICAgICAgICAgICAgY29tbWl0KCJzYXZlVXBsb2FkRmlsZVRvU3RhdGUiLCBmaWxlKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgZmV0Y2hMb2dpblN0YXRlOiBmdW5jdGlvbiBmZXRjaExvZ2luU3RhdGUoX3JlZjMpIHsKICAgIHZhciBjb21taXQsIHN0YXRlOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBmZXRjaExvZ2luU3RhdGUkKF9jb250ZXh0MykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQsIHN0YXRlID0gX3JlZjMuc3RhdGU7CiAgICAgICAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvdG9rZW4vdmVyaWZ5LyIsIHsKICAgICAgICAgICAgICAidG9rZW4iOiBzdGF0ZS5hY2Nlc3NUb2tlbgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgICAiQXV0aGVudGljYXRpb24iOiAiQmVhcmVyICIuY29uY2F0KHN0YXRlLmFjY2Vzc1Rva2VuKQogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiVE9LRU4gIi5jb25jYXQoc3RhdGUuYWNjZXNzVG9rZW4pKTsKCiAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KHJlcy5zdGF0dXMpID09IDIwMCkgewogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRMb2dpblN0YXRlIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0TG9naW5TdGF0ZSIsIGZhbHNlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmNCkgewogICAgdmFyIGNvbW1pdCwgc3RhdGU7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGxvZ291dCQoX2NvbnRleHQ0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY0LmNvbW1pdCwgc3RhdGUgPSBfcmVmNC5zdGF0ZTsKICAgICAgICAgICAgY29tbWl0KCJsb2dvdXQiKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWY1LCBkYXRhKSB7CiAgICB2YXIgY29tbWl0OwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBsb2dpbiQoX2NvbnRleHQ1KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS90b2tlbi8iLCB7CiAgICAgICAgICAgICAgInVzZXJuYW1lIjogZGF0YS51LAogICAgICAgICAgICAgICJwYXNzd29yZCI6IGRhdGEucAogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBjb21taXQoInNldEFjY2Vzc1Rva2VuIiwgcmVzLmRhdGFbImFjY2VzcyJdKTsKICAgICAgICAgICAgICBjb21taXQoInNldFJlZnJlc2hUb2tlbiIsIHJlcy5kYXRhWyJyZWZyZXNoIl0pOwogICAgICAgICAgICAgIGNvbW1pdCgic2V0TG9naW5TdGF0ZSIsIHRydWUpOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coImxvZ2luIGZhaWxlZCIpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgcmVmcmVzaExvZ2luOiBmdW5jdGlvbiByZWZyZXNoTG9naW4oX3JlZjYpIHsKICAgIHZhciBjb21taXQsIHN0YXRlOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiByZWZyZXNoTG9naW4kKF9jb250ZXh0NikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb21taXQgPSBfcmVmNi5jb21taXQsIHN0YXRlID0gX3JlZjYuc3RhdGU7CiAgICAgICAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvcmVmcmVzaC8iLCB7CiAgICAgICAgICAgICAgInJlZnJlc2giOiBzdGF0ZS5yZWZyZXNoVG9rZW4KICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIk5FVyBUT0tFTiAiLmNvbmNhdChyZXMuZGF0YVsiYWNjZXNzIl0pKTsKICAgICAgICAgICAgICBjb21taXQoInNldEFjY2Vzc1Rva2VuIiwgcmVzLmRhdGFbImFjY2VzcyJdKTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJyZWZyZXNoIGZhaWxlZCIpOwogICAgICAgICAgICAgIGNvbW1pdCgic2V0TG9naW5TdGF0ZSIsIGZhbHNlKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUpIHsKICAgIHN0YXRlLmxvZ2dlZEluID0gZmFsc2UsIHN0YXRlLnJlZnJlc2hUb2tlbiA9IG51bGwsIHN0YXRlLmFjY2Vzc1Rva2VuID0gbnVsbDsKICB9LAogIHNhdmVVcGxvYWRGaWxlVG9TdGF0ZTogZnVuY3Rpb24gc2F2ZVVwbG9hZEZpbGVUb1N0YXRlKHN0YXRlLCBmaWxlKSB7CiAgICByZXR1cm4gc3RhdGUudXBsb2FkRmlsZSA9IGZpbGU7CiAgfSwKICBjbGVhclVwbG9hZEZpbGVGcm9tU3RhdGU6IGZ1bmN0aW9uIGNsZWFyVXBsb2FkRmlsZUZyb21TdGF0ZShzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnVwbG9hZEZpbGUgPSBudWxsOwogIH0sCiAgc2V0TG9naW5TdGF0ZTogZnVuY3Rpb24gc2V0TG9naW5TdGF0ZShzdGF0ZSwgbG9naW5Cb29sKSB7CiAgICByZXR1cm4gc3RhdGUubG9nZ2VkSW4gPSBsb2dpbkJvb2w7CiAgfSwKICBzZXRSZWZyZXNoVG9rZW46IGZ1bmN0aW9uIHNldFJlZnJlc2hUb2tlbihzdGF0ZSwgbmV3VG9rZW4pIHsKICAgIHJldHVybiBzdGF0ZS5yZWZyZXNoVG9rZW4gPSBuZXdUb2tlbjsKICB9LAogIHNldEFjY2Vzc1Rva2VuOiBmdW5jdGlvbiBzZXRBY2Nlc3NUb2tlbihzdGF0ZSwgbmV3VG9rZW4pIHsKICAgIHJldHVybiBzdGF0ZS5hY2Nlc3NUb2tlbiA9IG5ld1Rva2VuOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["/Users/someone/dev/file_cdn_share_ui/src/store/modules/cdn_app.js"],"names":["axios","read","state","loggedIn","accessToken","refreshToken","uploadFile","getters","persistedLoggedInState","actions","commit","dispatch","reader","FileReader","console","log","onload","e","fileData","target","result","post","headers","readAsDataURL","saveUploadFileToState","file","fetchLoginState","then","res","parseInt","status","logout","login","data","u","p","catch","err","refreshLogin","mutations","clearUploadFileFromState","setLoginState","loginBool","setRefreshToken","newToken","setAccessToken"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport { read } from 'fs';\n\n\nconst state = {\n    loggedIn: false,\n    accessToken: null,\n    refreshToken: null,\n    uploadFile: null,\n}\n\n\nconst getters = {\n    persistedLoggedInState: (state) => state.loggedIn,\n    // persistedAccessToken: (state) => state.accessToken,\n    // persistedRefreshToken: (state) => state.refreshToken,\n    \n}\n\nconst actions = {\n\n    async uploadFile({commit, state, dispatch}){\n        const reader = new FileReader()\n        console.log(\"this is indeed a file, right...? \", state.uploadFile)\n        // var file_data = reader.readAsDataURL(state.uploadFile)\n        \n        reader.onload = (e) => {\n            let fileData = e.target.result\n            axios.post(\"http://localhost:8000/api/cdn/upload/\", fileData, {headers: {\"Content-Disposition\":\"Content-Disposition: attachment; filename=testfis654dfle.css\", \"Authentication\": `Bearer ${state.accessToken}`}})\n        }\n        await reader.readAsDataURL(state.uploadFile)\n\n        console.log(\"RR: \", reader.result)\n        \n        \n        \n        // commit(\"clearUploadFileFromState\")\n    },\n    async saveUploadFileToState({commit}, file){\n        console.log(file)\n        commit(\"saveUploadFileToState\", file)\n    },\n\n    async fetchLoginState({commit, state}){\n\n        axios.post(\n                    \"http://localhost:8000/api/token/verify/\",\n                    {\"token\": state.accessToken}, {'Content-Type': 'application/json', \"Authentication\": `Bearer ${state.accessToken}`}).then(\n            res => {\n                console.log(`TOKEN ${state.accessToken}`)\n                if(parseInt(res.status) == 200){\n                    commit(\"setLoginState\", true)\n                }else{\n                    commit(\"setLoginState\", false)\n                }\n            }\n        )\n    },\n\n    async logout({commit, state}){\n        commit(\"logout\")\n    },\n\n    async login({commit}, data){\n\n        axios.post(\"http://localhost:8000/api/token/\", {\"username\":data.u,\"password\":data.p}, {'Content-Type': 'application/json'}).then(\n            res => {\n                commit(\"setAccessToken\", res.data[\"access\"])\n                commit(\"setRefreshToken\", res.data[\"refresh\"])\n                commit(\"setLoginState\", true)\n            }\n        ).catch(\n            err => {\n                console.log(\"login failed\")\n            }\n        )\n    },\n\n    async refreshLogin({commit, state}){\n        axios.post(\"http://localhost:8000/api/refresh/\", {\"refresh\":state.refreshToken}, {'Content-Type': 'application/json'}).then(\n            res => {\n                console.log(`NEW TOKEN ${res.data[\"access\"]}`)\n                commit(\"setAccessToken\", res.data[\"access\"])\n            }\n        ).catch(\n            err => {\n                console.log(\"refresh failed\")\n                commit(\"setLoginState\", false)\n            }\n        )\n    }\n}\n\nconst mutations = {\n    logout: (state) => {\n        state.loggedIn = false,\n        state.refreshToken = null,\n        state.accessToken = null\n    },\n    saveUploadFileToState: (state, file) => state.uploadFile = file,\n    clearUploadFileFromState: (state) => state.uploadFile = null,\n    setLoginState: (state, loginBool) => state.loggedIn = loginBool,\n    setRefreshToken: (state, newToken) => state.refreshToken = newToken,\n    setAccessToken: (state, newToken) => state.accessToken = newToken,\n}\n\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations\n}"]}]}